(function(t){function e(e){for(var s,o,n=e[0],l=e[1],d=e[2],u=0,m=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);c&&c(e);while(m.length)m.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},r={app:0},i=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var d=0;d<n.length;d++)e(n[d]);var c=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},2826:function(t,e,a){t.exports=a.p+"img/emoji_0.4d4557e9.png"},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=i(t);return a(e)}function i(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}r.keys=function(){return Object.keys(s)},r.resolve=i,t.exports=r,r.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Notifications"),t.isAuthenticated?a("Navbar"):t._e(),a("Spinner"),a("v-main",[a("router-view")],1)],1)},i=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-snackbar",{staticClass:"headline",attrs:{top:"",color:t.notification_type},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-spacer"),a("v-btn",t._b({attrs:{color:"white",icon:""},on:{click:function(e){t.notificate=!1}}},"v-btn",s,!1),[a("v-icon",{attrs:{small:""}},[t._v("fa fa-times")])],1)]}}]),model:{value:t.notificate,callback:function(e){t.notificate=e},expression:"notificate"}},["error"==t.notification_type||"warning"==t.notification_type?a("v-icon",{staticClass:"mr-2"},[t._v(" fas fa-exclamation-triangle ")]):a("v-icon",{staticClass:"mr-2"},[t._v("fas fa-check-circle")]),t._v(" "+t._s(this.message)+" ")],1)},n=[],l=a("2f62"),d={data:()=>({notificate:!1,notification_type:"",message:""}),computed:{...Object(l["d"])("auth",["signin_error","signin_error_message"]),...Object(l["d"])("data",["data_error","error_message"])},watch:{signin_error(){this.signin_error&&(this.notification_type="error",this.message=this.signin_error_message,this.notificate=!0)},data_error(){this.data_error&&(this.notification_type="error",this.message=this.error_message,this.notificate=!0)}}},c=d,u=a("2877"),m=a("6544"),h=a.n(m),p=a("8336"),v=a("132d"),_=a("2db4"),f=a("2fa4"),g=Object(u["a"])(c,o,n,!1,null,null,null),b=g.exports;h()(g,{VBtn:p["a"],VIcon:v["a"],VSnackbar:_["a"],VSpacer:f["a"]});var w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{tile:"",flat:""}},[a("v-toolbar",{staticClass:"elevation-0",attrs:{short:"",color:"primary",dark:""}},[a("v-btn",{staticClass:"mr-3",attrs:{icon:""},on:{click:t.go_to_home}},[a("v-img",{attrs:{width:"1",src:t.logo}})],1),a("v-spacer"),a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",r,!1),s),[t.device_disconnected?a("v-badge",{attrs:{dot:"",overlap:"",color:"red"}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("fa fa-bell")])],1):a("v-icon",{attrs:{color:"secondary"}},[t._v("fa fa-bell")])],1)]}}])},[a("v-card",[t.device_disconnected?a("div",[a("v-subheader",[t._v(" Dispositivo(s) desconectado(s) ")]),t._l(t.disconnected_reservoirs,(function(e,s){return a("v-list-item",{key:s},[a("v-list-item-avatar",[a("v-icon",{attrs:{color:"red"}},[t._v("fas fa-exclamation")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.name))])],1)],1)}))],2):a("v-subheader",[t._v("Todos os dispositivos estÃ£o conectados")])],1)],1),a("v-btn",{attrs:{icon:""},on:{click:t.signout}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("fas fa-sign-out-alt")])],1)],1)],1)},y=[],x={data:()=>({logo:a("cf05")}),computed:{...Object(l["d"])("data",["device_disconnected","disconnected_reservoirs"])},methods:{...Object(l["b"])("data",["check_connection"]),go_to_home(){"Home"!=this.$router.currentRoute.name&&this.$router.push({name:"Home"})},signout(){this.$router.push({path:"/signout"})}},mounted(){this.check_connection()}},j=x,C=a("4ca6"),V=a("b0af"),S=a("adda"),k=a("da13"),O=a("8270"),E=a("5d23"),D=a("e449"),q=a("e0c7"),T=a("71d9"),F=Object(u["a"])(j,w,y,!1,null,null,null),I=F.exports;h()(F,{VBadge:C["a"],VBtn:p["a"],VCard:V["a"],VIcon:v["a"],VImg:S["a"],VListItem:k["a"],VListItemAvatar:O["a"],VListItemContent:E["a"],VListItemTitle:E["c"],VMenu:D["a"],VSpacer:f["a"],VSubheader:q["a"],VToolbar:T["a"]});var A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-overlay",{attrs:{value:t.authenticating||t.loading_data}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)},R=[],z={computed:{...Object(l["d"])("auth",["authenticating"]),...Object(l["d"])("data",["loading_data"])}},N=z,M=a("a797"),P=a("490a"),$=Object(u["a"])(N,A,R,!1,null,null,null),L=$.exports;h()($,{VOverlay:M["a"],VProgressCircular:P["a"]});var B={name:"App",components:{Notifications:b,Navbar:I,Spinner:L},computed:{...Object(l["c"])("auth",["isAuthenticated"])}},G=B,H=a("7496"),J=a("f6c4"),U=Object(u["a"])(G,r,i,!1,null,null,null),Q=U.exports;h()(U,{VApp:H["a"],VMain:J["a"]});var W=a("8c4f"),Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"2"}},[s("FilterColumn",{on:{go_to_reservoir:t.update_reservoir,report:function(e){t.open_report_dialog=!0},contacts:function(e){t.open_contacts_dialog=!0}}})],1),s("v-col",[s("v-slide-y-transition",[void 0==t.reservoir?s("v-container",{attrs:{fluid:"","fill-height":""}},[s("v-row",{attrs:{justify:"center"}},[s("v-img",{attrs:{src:a("cf05"),contain:"","max-width":"300","max-height":"300"}})],1),s("v-row",{staticClass:"text-h3",attrs:{justify:"center"}},[t._v(" Selecione um reservatÃ³rio ")])],1):s("v-window",{staticClass:"pb-5",model:{value:t.view_window,callback:function(e){t.view_window=e},expression:"view_window"}},[s("v-row",{staticClass:"ma-0"},[s("v-card-title",[t._v(t._s(t.reservoir.name))]),s("v-spacer"),t.disconnected_reservoirs.find((function(e){return e.id==t.reservoir.id}))?s("v-alert",{attrs:{type:"error",dense:"",outlined:""}},[t._v(" ReservatÃ³rio Desconectado ")]):t._e()],1),s("v-window-item",[0==t.view_window?s("MainData",{attrs:{reservoir:t.reservoir.id},on:{detailed_data:function(e){t.view_window=1}}}):t._e()],1),s("v-window-item",[1==t.view_window?s("DetailedData",{attrs:{reservoir:t.reservoir.id},on:{back:function(e){t.view_window=0}}}):t._e()],1)],1)],1)],1)],1),s("v-dialog",{model:{value:t.open_report_dialog,callback:function(e){t.open_report_dialog=e},expression:"open_report_dialog"}},[s("Report",{on:{close:function(e){t.open_report_dialog=!1}}})],1),s("v-dialog",{model:{value:t.open_contacts_dialog,callback:function(e){t.open_contacts_dialog=e},expression:"open_contacts_dialog"}},[s("Contacts",{on:{close:function(e){t.open_contacts_dialog=!1}}})],1)],1)},K=[],Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"calc(100vh - 90px)",tile:"",flat:""}},[a("v-row",{staticClass:"ma-0",attrs:{justify:"center"}},[a("v-btn",{attrs:{rounded:"",color:"primary secondary--text",large:""},on:{click:function(e){return t.$emit("report")}}},[a("v-icon",{staticClass:"mr-2"},[t._v("fas fa-chart-line")]),t._v(" Gerar RelatÃ³rio ")],1)],1),a("v-divider",{staticClass:"mt-5"}),a("v-row",{staticClass:"ma-0 text-h6"},[t._v("ReservatÃ³rios")]),a("v-text-field",{attrs:{"prepend-icon":"fas fa-search",label:"Pesquisar"},on:{input:function(e){return t.search_reservoir(t.search_resevoir_string)}},model:{value:t.search_resevoir_string,callback:function(e){t.search_resevoir_string=e},expression:"search_resevoir_string"}}),a("v-card",{staticClass:"scroller",attrs:{height:"calc(100vh - 350px)","min-height":"225",flat:""}},[a("v-list",{attrs:{rounded:""}},[a("v-list-item-group",{attrs:{color:"primary"},model:{value:t.selected_reservoir,callback:function(e){t.selected_reservoir=e},expression:"selected_reservoir"}},t._l(t.filtered_reservoirs,(function(e,s){return a("v-list-item",{key:s},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.name))])],1)],1)})),1)],1)],1),a("v-divider",{staticClass:"mt-5"}),a("v-row",{staticClass:"ma-0 mt-5",attrs:{justify:"center"}},[a("v-btn",{attrs:{rounded:"",color:"primary secondary--text",large:""},on:{click:function(e){return t.$emit("contacts")}}},[a("v-icon",{staticClass:"mr-2"},[t._v("fas fa-user-friends")]),t._v(" Contatos ")],1)],1)],1)},X=[],tt={data:()=>({search_resevoir_string:"",selected_reservoir:void 0,filtered_reservoirs:[]}),computed:{...Object(l["d"])("data",["reservoirs"])},watch:{reservoirs(){this.search_reservoir("")},selected_reservoir(){void 0!=this.selected_reservoir?this.$emit("go_to_reservoir",this.reservoirs[this.selected_reservoir]):this.$emit("go_to_reservoir",void 0)}},methods:{...Object(l["b"])("data",["get_reservoirs"]),search_reservoir(t){this.reservoirs.length>0&&(this.filtered_reservoirs=this.reservoirs.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())))}},mounted(){this.get_reservoirs()}},et=tt,at=a("ce7e"),st=a("8860"),rt=a("1baa"),it=a("0fd9"),ot=a("8654"),nt=Object(u["a"])(et,Z,X,!1,null,null,null),lt=nt.exports;h()(nt,{VBtn:p["a"],VCard:V["a"],VDivider:at["a"],VIcon:v["a"],VList:st["a"],VListItem:k["a"],VListItemContent:E["a"],VListItemGroup:rt["a"],VListItemTitle:E["c"],VRow:it["a"],VTextField:ot["a"]});var dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"scroller",attrs:{height:"calc(100vh - 175px)",tile:"",flat:""}},[t.nothing_to_show?t._e():s("v-row",{staticClass:"ma-0",attrs:{justify:"center"}},t._l(t.main_data,(function(e){return s("v-col",{key:e.name,attrs:{cols:"4"}},[s("ParameterCard",{attrs:{reservoir:t.reservoir,type:e.type,value:e.val,hide_circle:!0,hide_search:!0}})],1)})),1),t.nothing_to_show?t._e():s("v-row",{staticClass:"ma-0",attrs:{justify:"center"}},[s("WqiGraph",{attrs:{reservoir:t.reservoir,wqi:t.last_parameters.wqi}})],1),t.nothing_to_show?t._e():s("v-btn",{attrs:{large:"",fab:"",bottom:"",right:"",fixed:"",color:"primary"},on:{click:function(e){return t.$emit("detailed_data")}}},[s("v-icon",{attrs:{color:"secondary"}},[t._v("fas fa-plus")])],1),t.nothing_to_show?s("v-container",{attrs:{fluid:"","fill-height":""}},[s("v-row",{attrs:{justify:"center"}},[s("v-img",{attrs:{src:a("cf05"),contain:"","max-width":"300","max-height":"300"}})],1),s("v-row",{staticClass:"text-h3",attrs:{justify:"center"}},[t._v(" O reservatÃ³rio ainda nÃ£o contÃ©m mediÃ§Ãµes ")])],1):t._e()],1)},ct=[],ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"rounded-xl",attrs:{flat:"",tile:"",width:"calc(100% - 100px)"}},[a("v-card-title",[a("v-card",{attrs:{flat:"",tile:""}},[a("v-img",{attrs:{src:t.get_wqi_icon(t.wqi),height:"100",width:"100",contain:""}})],1),a("p",{staticClass:"ml-10 text-h4"},[t._v(t._s(t.get_wqi_title(t.wqi)))])],1),a("v-card-text",[t._v(" O Ãndice de Qualidade das Ãguas (IQA) Ã© o principal indicador qualitativo usado no paÃ­s. Foi desenvolvido para avaliar a qualidade da Ã¡gua para o abastecimento pÃºblico, apÃ³s o tratamento convencional. ")]),a("Graph",{staticClass:"ma-5",attrs:{type:"wqi",reservoir:t.reservoir}})],1)},mt=[],ht={get_wqi_icon(t){return a(t<=25?"2826":t<=50?"cf3b":t<=75?"83369":t<=100?"be15":"bd6a")},get_wqi_title(t){return t<=25?"Qualidade Excelente!":t<=50?"Qualidade Boa!":t<=75?"Qualidade Ruim!":t<=100?"Qualidade PÃ©ssima!":"Inadequada para uso!"},parameters_tolerance(t,e){return"wqi"==t?e<45?"green":e<=50?"yellow":"red":"temp"==t?e>=0&&e<=27?"green":e<=30?"yellow":"red":"ph"==t?e>=6.5&&e<=8.5?"green":e>=6&&e<6.5||e>8.5&&e<9?"yellow":"red":"do"==t?e>5.5?"green":e>=5?"yellow":"red":"ec"==t?e<95?"green":e<=100?"yellow":"red":"tds"==t?e<450?"green":e<=500?"yellow":"red":"sal"==t?e<.6?"green":e<=1?"yellow":"red":"turb"==t?e<4?"green":e<=5?"yellow":"red":"vol"==t?e>200?"green":e>100?"yellow":"red":void 0},format_phone(t){var e,a=t.replace(/\D/g,"").length,s=t.replace(/\D/g,"")[0],r=t.replace(/\D/g,"").slice(0,4);return"0800"==r?(e=t.replace(/\D/g,"").match(/(\d{0,4})(\d{0,3})(\d{0,3})/),t=e[2]?e[1]+" "+e[2]+" "+e[3]:e[1]):a<=10?(e=t.replace(/\D/g,"").match(/(\d{0,2})(\d{0,4})(\d{0,4})/),t=e[2]?"("+e[1]+") "+e[2]+(e[3]?"-"+e[3]:""):e[1]):a<=11&&"0"==s?(e=t.replace(/\D/g,"").match(/(\d{0,3})(\d{0,4})(\d{0,4})/),t=e[2]?"("+e[1]+") "+e[2]+(e[3]?"-"+e[3]:""):e[1]):a<=11?(e=t.replace(/\D/g,"").match(/(\d{0,2})(\d{0,1})(\d{0,4})(\d{0,4})/),t=e[2]?"("+e[1]+") "+e[2]+" "+e[3]+(e[4]?"-"+e[4]:""):e[1]):a<=12&&"0"==s&&(e=t.replace(/\D/g,"").match(/(\d{0,3})(\d{0,1})(\d{0,4})(\d{0,4})/),t=e[2]?"("+e[1]+") "+e[2]+" "+e[3]+(e[4]?"-"+e[4]:""):e[1]),t},allow_dates_until_today(t){return t=new Date(t),!(t>Date.now())},format_dates(t){let e="";var[a,s,r]=t[0].split("-");return e=r+"/"+s+"/"+a,t.length>1&&([a,s,r]=t[1].split("-"),e+=" - "+r+"/"+s+"/"+a),e},min_date(t){let e=t[0];return t.forEach(t=>{t<e&&(e=t)}),e},max_date(t){let e=t[0];return t.forEach(t=>{t>e&&(e=t)}),e}},pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:"",tile:""}},[t.show_graph?a("line-chart",{ref:"chart",attrs:{"chart-data":t.graph_data,options:t.options}}):t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.reset_zoom}},[t._v("Reset")])],1)],1)},vt=[],_t=a("1fca");const{reactiveProp:ft}=_t["b"];var gt={extends:_t["a"],mixins:[ft],props:["options"],mounted(){this.renderChart(this.chartData,this.options)}},bt=(a("f634"),{data:()=>({show_graph:!0,data:{datasets:[]},graph_data:{},options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{type:"time",distribution:"linear",time:{unit:"hour"}}]},plugins:{zoom:{zoom:{enabled:!0,drag:!0,mode:"xy"}}}}}),props:{type:String,reservoir:Number},computed:{...Object(l["d"])("data",["value_measurements"])},components:{LineChart:gt},watch:{value_measurements(){const t=JSON.parse(JSON.stringify(this.value_measurements));t.sort((t,e)=>new Date(this.convert_date(t.time))-new Date(this.convert_date(e.time)));var e=new Array(7);e[0]="Segunda",e[1]="TerÃ§a",e[2]="Quarta",e[3]="Quinta",e[4]="Sexta",e[5]="SÃ¡bado",e[6]="Domingo",this.data.labels=t.map(t=>this.convert_date(t.time)),this.graph_data=JSON.parse(JSON.stringify(this.data)),this.data.datasets[0].data=t.map(t=>t.value),this.graph_data=JSON.parse(JSON.stringify(this.data))},reservoir(){this.get_all_measurements({reservoir_id:this.reservoir,type:this.type})},type(){this.update_data()}},methods:{...Object(l["b"])("data",["get_all_measurements"]),convert_date(t){let e=t.split(" ")[1],a=t.split(" ")[0],[s,r,i]=a.split("/");return i+"-"+r+"-"+s+"T"+e},reset_zoom(){this.show_graph=!1,setTimeout(()=>this.show_graph=!0,1)},update_data(){this.data.datasets[0]={backgroundColor:"#390360"},this.data.datasets[0].fill=1,"wqi"==this.type?this.data.datasets[0].label="IQA":"temp"==this.type?this.data.datasets[0].label="Temperatura":"ph"==this.type?this.data.datasets[0].label="pH":"do"==this.type?this.data.datasets[0].label="OxigÃªnio Dissolvido":"ec"==this.type?this.data.datasets[0].label="Condutividade ElÃ©trica":"tds"==this.type?this.data.datasets[0].label="Totais de SÃ³lidos Dissolvidos":"sal"==this.type?this.data.datasets[0].label="Salinidade":"turb"==this.type?this.data.datasets[0].label="Turbidez":"vol"==this.type?this.data.datasets[0].label="Volume":"cons"==this.type&&(this.data.datasets[0].label="Consumo"),this.get_all_measurements({reservoir_id:this.reservoir,type:this.type})}},mounted(){this.update_data()}}),wt=bt,yt=a("99d9"),xt=Object(u["a"])(wt,pt,vt,!1,null,null,null),jt=xt.exports;h()(xt,{VBtn:p["a"],VCard:V["a"],VCardActions:yt["a"],VSpacer:f["a"]});var Ct={props:{reservoir:Number,wqi:Number},computed:{...Object(l["d"])("data",["last_parameters"])},components:{Graph:jt},methods:{get_wqi_icon:ht.get_wqi_icon,get_wqi_title:ht.get_wqi_title}},Vt=Ct,St=Object(u["a"])(Vt,ut,mt,!1,null,null,null),kt=St.exports;h()(St,{VCard:V["a"],VCardText:yt["c"],VCardTitle:yt["d"],VImg:S["a"]});var Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"scroller",attrs:{height:"calc(100vh - 175px)",flat:"",tile:""}},[a("v-btn",{attrs:{fixed:"",text:"",fab:""},on:{click:function(e){return t.$emit("back")}}},[a("v-icon",{attrs:{color:"primary"}},[t._v("fas fa-arrow-left")])],1),a("v-row",{staticClass:"ma-0"},t._l(t.parameters,(function(e){return a("v-col",{key:e.name,attrs:{cols:"4"}},[a("ParameterCard",{attrs:{type:e.type,value:e.val,hide_circle:"vol"==e.type,reservoir:t.reservoir}})],1)})),1)],1)},Et=[],Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"ma-10 rounded-xl",attrs:{color:"primary",elevation:"10"}},[a("v-card-title",{staticClass:"secondary--text"},[a("v-icon",{staticClass:"mr-5",attrs:{color:"secondary"},domProps:{textContent:t._s(t.icon)}}),t._v(" "+t._s(t.name)+" "),a("v-spacer"),t.hide_circle||null==t.circle_color?t._e():a("v-icon",{attrs:{color:t.circle_color}},[t._v(" fas fa-circle ")])],1),a("v-card-text",{staticClass:"secondary--text"},[a("v-row",{staticClass:"ma-0",attrs:{justify:"center",align:"center"}},[a("p",{staticClass:"text-h2 mr-3"},[a("b",[t._v(t._s(null==t.value?"-":Math.round(100*t.value)/100))])]),t._v(" "+t._s(t.unit)+" ")])],1),t.hide_search?t._e():a("v-btn",{attrs:{icon:"",color:"white",absolute:"",bottom:"",right:""},on:{click:function(e){t.open_parameter_details_dialog=!0}}},[a("v-icon",[t._v("fas fa-search")])],1),a("v-dialog",{model:{value:t.open_parameter_details_dialog,callback:function(e){t.open_parameter_details_dialog=e},expression:"open_parameter_details_dialog"}},[t.open_parameter_details_dialog?a("ParameterDetails",{attrs:{type:t.show_type,reservoir:t.reservoir},on:{close:function(e){t.open_parameter_details_dialog=!1},next:t.next,back:t.back}}):t._e()],1)],1)},qt=[],Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"px-10"},[a("CloseButton",{on:{close:function(e){return t.$emit("close")}}}),a("v-card-title",[t._v(t._s(t.title))]),t.info.length>0?a("v-subheader",[t._v("Info")]):t._e(),t.info.length>0?a("v-card-text",[t._v(t._s(t.info))]):t._e(),a("v-subheader",[t._v("HistÃ³rico")]),a("Graph",{attrs:{type:t.type,reservoir:t.reservoir}}),a("v-btn",{style:{bottom:"50%",transform:"translateY(-50%)"},attrs:{absolute:"",right:"",icon:"",disabled:"vol"==t.type},on:{click:function(e){return t.$emit("next",t.type)}}},[a("v-icon",[t._v("fas fa-arrow-right")])],1),a("v-btn",{style:{bottom:"50%",transform:"translateY(-50%)"},attrs:{absolute:"",left:"",icon:"",disabled:"wqi"==t.type},on:{click:function(e){return t.$emit("back",t.type)}}},[a("v-icon",[t._v("fas fa-arrow-left")])],1)],1)},Ft=[],It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",{style:{zIndex:5},attrs:{absolute:"",top:"",icon:"",right:"",small:"",color:"primary"},on:{click:function(e){return t.$emit("close")}}},[a("v-icon",[t._v("fas fa-times")])],1)},At=[],Rt={},zt=Object(u["a"])(Rt,It,At,!1,null,null,null),Nt=zt.exports;h()(zt,{VBtn:p["a"],VIcon:v["a"]});var Mt={data:()=>({title:"",info:""}),props:{type:String,reservoir:Number},components:{CloseButton:Nt,Graph:jt},watch:{type(){this.update_data()}},methods:{update_data(){"wqi"==this.type?(this.title="IQA",this.info="O Ãndice de Qualidade das Ãguas (IQA) Ã© o principal indicador qualitativo usado no paÃ­s. Foi desenvolvido para avaliar a qualidade da Ã¡gua para o abastecimento pÃºblico, apÃ³s o tratamento convencional."):"temp"==this.type?(this.title="Temperatura",this.info="VariaÃ§Ãµes de temperatura sÃ£o parte do regime climÃ¡tico normal dependendo da altitude, latitude, estaÃ§Ã£o do ano, perÃ­odo do dia, taxa de fluxo e profundidade. Em geral, Ã  medida que a temperatura aumenta, de 0 a 30Â°C, alguns fatores diminuem como a viscosidade, tensÃ£o superficial, compressibilidade, calor especÃ­fico, constante de ionizaÃ§Ã£o e calor latente de vaporizaÃ§Ã£o, enquanto a condutividade elÃ©trica e tÃ©rmica, a pressÃ£o de vapor, a solubilidade de sais aumentam com a elevaÃ§Ã£o da temperatura."):"ph"==this.type?(this.title="pH",this.info="Ã usado para indicar o quÃ£o Ã¡cida ou bÃ¡sica estÃ¡ a Ã¡gua, ou seja, expressa a concentraÃ§Ã£o de Ã­ons de hidrogÃªnio no lÃ­quido. AlteraÃ§Ãµes nos valores de pH tambÃ©m podem aumentar o efeito de substÃ¢ncias quÃ­micas que sÃ£o tÃ³xicas para os organismos aquÃ¡ticos, tais como os metais pesados."):"do"==this.type?(this.title="OxigÃªnio Dissolvido",this.info="As Ã¡guas poluÃ­das por esgotos apresentam baixa concentraÃ§Ã£o de oxigÃªnio dissolvido pois o mesmo Ã© consumido no processo de decomposiÃ§Ã£o da matÃ©ria orgÃ¢nica. Por outro lado as Ã¡guas limpas apresentam concentraÃ§Ãµes de oxigÃªnio dissolvido mais elevadas."):"ec"==this.type?(this.title="Condutividade ElÃ©trica",this.info="Ã a capacidade que a Ã¡gua possui de conduzir corrente elÃ©trica. Ã uma medida da concentraÃ§Ã£o total de sais dissolvidos presentes na Ã¡gua. Apesar de nÃ£o fornecer medidas reais da concentraÃ§Ã£o de um determinado Ã­on presente, ela nos dÃ¡ uma noÃ§Ã£o muito boa do quanto a Ã¡gua estÃ¡ impactada, o que indiretamente sugere a origem e o grau de contaminaÃ§Ã£o da Ã¡gua."):"tds"==this.type?(this.title="Totais de SÃ³lidos Dissolvidos.",this.info="Os totais sÃ³lidos dissolvidos (TSD) compreendem sais inorgÃ¢nicos (principalmente cÃ¡lcio, magnÃ©sio, potÃ¡ssio, sÃ³dio, bicarbonatos, cloretos e sulfatos) e algumas pequenas quantidades de matÃ©ria orgÃ¢nica que sÃ£o dissolvidas em Ã¡gua."):"sal"==this.type?(this.title="Salinidade",this.info="Salinidade Ã© uma medida da quantidade de sais existentes em massas de Ã¡gua naturais. A forma mais simples de descrever a salinidade Ã© como a relaÃ§Ã£o entre o conteÃºdo de sais dissolvidos em uma dada quantidade de Ã¡gua."):"turb"==this.type?(this.title="Turbidez",this.info="A Turbidez da Ã¡gua Ã© causada pela presenÃ§a de partÃ­culas em suspensÃ£o ou materiais como argilas, terra, areia, plÃ¢ncton, Ã³xidos, hidrÃ³xidos e carbonatos minerais."):"vol"==this.type?(this.title="Volume",this.info=""):"cons"==this.type?(this.title="Consumo",this.info=""):"pred"==this.type&&(this.title="PrediÃ§Ã£o",this.info="")}},mounted(){this.update_data()}},Pt=Mt,$t=Object(u["a"])(Pt,Tt,Ft,!1,null,null,null),Lt=$t.exports;h()($t,{VBtn:p["a"],VCard:V["a"],VCardText:yt["c"],VCardTitle:yt["d"],VIcon:v["a"],VSubheader:q["a"]});var Bt={data:()=>({name:"",unit:"",circle_color:"",icon:null,open_parameter_details_dialog:!1,show_type:null}),props:{type:String,value:Number,hide_circle:Boolean,reservoir:Number,hide_search:Boolean},components:{ParameterDetails:Lt},watch:{open_parameter_details_dialog(){0==this.open_parameter_details_dialog&&(this.show_type=this.type)}},methods:{next(t){"wqi"==t&&(this.show_type="temp"),"temp"==t&&(this.show_type="ph"),"ph"==t&&(this.show_type="do"),"do"==t&&(this.show_type="ec"),"ec"==t&&(this.show_type="tds"),"tds"==t&&(this.show_type="sal"),"sal"==t&&(this.show_type="turb"),"turb"==t&&(this.show_type="vol")},back(t){"temp"==t&&(this.show_type="wqi"),"ph"==t&&(this.show_type="temp"),"do"==t&&(this.show_type="ph"),"ec"==t&&(this.show_type="do"),"tds"==t&&(this.show_type="ec"),"sal"==t&&(this.show_type="tds"),"turb"==t&&(this.show_type="sal"),"vol"==t&&(this.show_type="turb")}},created(){this.show_type=this.type},mounted(){"wqi"==this.type?(this.name="IQA",this.value<=25||this.value<=50?this.circle_color="green":this.value<=75?this.circle_color="yellow":(this.value,this.circle_color="red")):"temp"==this.type?(this.name="Temperatura",this.unit="ÂºC",this.value>=0&&this.value<=27?this.circle_color="green":this.value<=30?this.circle_color="yellow":this.circle_color="red"):"ph"==this.type?(this.name="pH",this.unit="un",this.value>=6.5&&this.value<=8.5?this.circle_color="green":this.value>=6&&this.value<6.5||this.value>8.5&&this.value<9?this.circle_color="yellow":this.circle_color="red"):"do"==this.type?(this.name="OxigÃªnio Dissolvido",this.unit="mg/l",this.value>5.5?this.circle_color="green":this.value>=5?this.circle_color="yellow":this.circle_color="red"):"ec"==this.type?(this.name="Condutividade ElÃ©trica",this.unit="ÂµS/cm",this.value<95?this.circle_color="green":this.value<=100?this.circle_color="yellow":this.circle_color="red"):"tds"==this.type?(this.name="T.D.S.",this.unit="ppm",this.value<450?this.circle_color="green":this.value<=500?this.circle_color="yellow":this.circle_color="red"):"sal"==this.type?(this.name="Salinidade",this.unit="PSU",this.value<.6?this.circle_color="green":this.value<=1?this.circle_color="yellow":this.circle_color="red"):"turb"==this.type?(this.name="Turbidez",this.unit="UNT",this.value<4?this.circle_color="green":this.value<=5?this.circle_color="yellow":this.circle_color="red"):"vol"==this.type?(this.name="Volume",this.unit="Litros",this.value>200?this.circle_color="green":this.value>100?this.circle_color="yellow":this.circle_color="red",this.icon="fas fa-water"):"cons"==this.type?(this.name="Consumo",this.unit="Litros/Dia",this.circle_color=null,this.icon="fas fa-hand-holding-water"):"pred"==this.type&&(this.name="PrediÃ§Ã£o",this.unit="Dia(s)",this.circle_color=null,this.icon="fas fa-chart-bar")}},Gt=Bt,Ht=a("169a"),Jt=Object(u["a"])(Gt,Dt,qt,!1,null,null,null),Ut=Jt.exports;h()(Jt,{VBtn:p["a"],VCard:V["a"],VCardText:yt["c"],VCardTitle:yt["d"],VDialog:Ht["a"],VIcon:v["a"],VRow:it["a"],VSpacer:f["a"]});var Qt={data:()=>({parameters:[]}),props:{reservoir:Number},computed:{...Object(l["d"])("data",["last_parameters"])},components:{ParameterCard:Ut},watch:{reservoir(){this.get_last_parameters(this.reservoir)},last_parameters(){this.parameters=[{type:"wqi",val:this.last_parameters["wqi"]},{type:"temp",val:this.last_parameters["temp"]},{type:"ph",val:this.last_parameters["pH"]},{type:"do",val:this.last_parameters["OD"]},{type:"ec",val:this.last_parameters["EC"]},{type:"tds",val:this.last_parameters["TDS"]},{type:"sal",val:this.last_parameters["salinity"]},{type:"turb",val:this.last_parameters["turb"]},{type:"vol",val:this.last_parameters["volume"]}]}},methods:{...Object(l["b"])("data",["get_last_parameters"]),parameters_tolerance:ht.parameters_tolerance},mounted(){this.get_last_parameters(this.reservoir)}},Wt=Qt,Yt=a("62ad"),Kt=Object(u["a"])(Wt,Ot,Et,!1,null,null,null),Zt=Kt.exports;h()(Kt,{VBtn:p["a"],VCard:V["a"],VCol:Yt["a"],VIcon:v["a"],VRow:it["a"]});var Xt={data:()=>({main_data:[],view_window:0,nothing_to_show:!1}),computed:{...Object(l["d"])("data",["last_parameters"])},props:{reservoir:Number},components:{WqiGraph:kt,DetailedData:Zt,ParameterCard:Ut},watch:{reservoir(){this.get_last_parameters(this.reservoir)},last_parameters(){null!=this.last_parameters?this.main_data=[{type:"vol",val:this.last_parameters.volume},{type:"cons",val:this.last_parameters["daily consum"]},{type:"pred",val:this.last_parameters["daily consum"]?this.last_parameters.volume/this.last_parameters["daily consum"]:null}]:this.nothing_to_show=!0}},methods:{...Object(l["b"])("data",["get_last_parameters"])},created(){null==this.last_parameters&&(this.nothing_to_show=!0)},mounted(){this.get_last_parameters(this.reservoir)}},te=Xt,ee=a("a523"),ae=Object(u["a"])(te,dt,ct,!1,null,null,null),se=ae.exports;h()(ae,{VBtn:p["a"],VCard:V["a"],VCol:Yt["a"],VContainer:ee["a"],VIcon:v["a"],VImg:S["a"],VRow:it["a"]});var re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("CloseButton",{on:{close:function(e){return t.$emit("close")}}}),a("v-card-title",[t._v("RelatÃ³rio")]),a("v-card-subtitle",[a("v-row",{staticClass:"ma-0",attrs:{justify:"center",align:"center"}},[a("b",[t._v("ReservatÃ³rios:")]),a("v-item-group",{staticClass:"text-center ml-2",attrs:{mandatory:""},model:{value:t.view_window,callback:function(e){t.view_window=e},expression:"view_window"}},t._l(t.reservoirs,(function(e,s){return a("v-item",{key:s,scopedSlots:t._u([{key:"default",fn:function(s){var r=s.active,i=s.toggle;return[a("v-btn",{attrs:{"input-value":r,text:"",rounded:"",color:"primary"},on:{click:i}},[t._v(" "+t._s(e.name)+" ")])]}}],null,!0)})})),1)],1)],1),a("v-card-text",[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.dates,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.dates=e},"update:return-value":function(e){t.dates=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Selecione o intervalo","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.formatted_dates,callback:function(e){t.formatted_dates=e},expression:"formatted_dates"}},"v-text-field",r,!1),s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{range:"","allowed-dates":t.allow_dates_until_today,locale:"PT","selected-items-text":t.dates.length.toString()+" selecionado"+(t.dates.length>1?"s":"")},on:{input:function(e){2==t.dates.length&&t.$refs.menu.save(t.dates)}},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1),a("v-window",{attrs:{touchless:""},model:{value:t.view_window,callback:function(e){t.view_window=e},expression:"view_window"}},t._l(t.reservoirs,(function(e,s){return a("v-window-item",{key:s},[a("v-card",{attrs:{tile:"",flat:""}},[a("v-card-title",[t._v(" RelatÃ³rio do(a) "+t._s(e.name)+" ")]),a("v-data-table",{attrs:{headers:t.headers,items:t.data}})],1)],1)})),1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary secondary--text",rounded:""},on:{click:t.generate_all_reports}},[t._v(" Gerar todos os RelatÃ³rios ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary secondary--text",rounded:""},on:{click:function(e){return t.generate_report(t.reservoirs[t.view_window].id)}}},[t._v(" Gerar RelatÃ³rio de "+t._s(t.reservoirs[t.view_window].name)+" ")])],1)],1)},ie=[],oe={data:()=>({view_window:0,dates:[],formatted_dates:"",menu:!1,headers:[{text:"Data",value:"date",sortable:!1},{text:"pH",value:"ph",sortable:!1},{text:"OxigÃªnio Dissolvido",value:"do",sortable:!1},{text:"Condutividade ElÃ©trica",value:"ec",sortable:!1},{text:"Salinidade",value:"sal",sortable:!1},{text:"T.D.S.",value:"tds",sortable:!1},{text:"Turbidez",value:"turb",sortable:!1},{text:"Temperatura",value:"temp",sortable:!1},{text:"Volume",value:"vol",sortable:!1},{text:"I.Q.A.",value:"wqi",sortable:!1},{text:"Consumo",value:"cons",sortable:!1}],data:[]}),computed:{...Object(l["d"])("data",["reservoirs","report_data"])},components:{CloseButton:Nt},watch:{report_data(){this.update_data()},view_window(){this.update_data()},dates(){this.formatted_dates=this.format_dates(this.dates),this.get_report_measurements(this.dates)}},methods:{...Object(l["b"])("data",["get_reservoirs","get_report_measurements","get_report"]),allow_dates_until_today:ht.allow_dates_until_today,format_dates:ht.format_dates,min_date:ht.min_date,max_date:ht.max_date,update_data(){let t=this.report_data.find(t=>t.reservoir==this.reservoirs[this.view_window].id);if(void 0!=t){let e=JSON.parse(JSON.stringify(t.data));this.data=e.map((function(t){return Object.keys(t).forEach(e=>{t[e]=JSON.stringify(t[e]).replaceAll("{","").replaceAll("}","").replaceAll(",","\n").replaceAll('"',"")}),t}))}else this.data=[]},generate_report(t){this.get_report({reservoir_id:t,time1:ht.min_date(this.dates),time2:ht.max_date(this.dates)})},generate_all_reports(){this.get_report({reservoir_id:"all",time1:ht.min_date(this.dates),time2:ht.max_date(this.dates)})},init_report_interval(){let t=new Date(Date.now()),e=new Date(t.getFullYear(),t.getMonth(),1);this.dates.push(e.toISOString().split("T")[0]),this.dates.push(t.toISOString().split("T")[0])}},mounted(){this.get_reservoirs(),this.init_report_interval(),this.get_report_measurements(this.dates)}},ne=oe,le=a("8fea"),de=a("2e4b"),ce=a("d903"),ue=a("604c"),me=a("f665"),he=a("1e6c"),pe=Object(u["a"])(ne,re,ie,!1,null,null,null),ve=pe.exports;h()(pe,{VBtn:p["a"],VCard:V["a"],VCardActions:yt["a"],VCardSubtitle:yt["b"],VCardText:yt["c"],VCardTitle:yt["d"],VDataTable:le["a"],VDatePicker:de["a"],VItem:ce["a"],VItemGroup:ue["b"],VMenu:D["a"],VRow:it["a"],VSpacer:f["a"],VTextField:ot["a"],VWindow:me["a"],VWindowItem:he["a"]});var _e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("CloseButton",{on:{close:function(e){return t.$emit("close")}}}),a("v-card-title",[t._v("Contatos")]),a("v-card-text",[a("v-list",{attrs:{"two-line":""}},[t._l(t.contacts,(function(e,s){return[a("v-list-item",{key:s},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.name)}}),a("v-list-item-subtitle",{domProps:{textContent:t._s(e.description)}})],1),a("v-list-item-action",[a("v-btn",{attrs:{icon:""},on:{click:function(a){t.show_phone=!0,t.selected_contact_name=e.name,t.selected_contact_phone=e.phone.toString()}}},[a("v-icon",[t._v("fas fa-phone")])],1),a("v-btn",{attrs:{icon:"",href:"mailto:"+e.email}},[a("v-icon",[t._v("fas fa-envelope")])],1)],1)],1),a("v-divider")]}))],2)],1),a("v-dialog",{attrs:{"max-width":"calc(100% - 500px)"},model:{value:t.show_phone,callback:function(e){t.show_phone=e},expression:"show_phone"}},[a("v-card",[a("CloseButton",{on:{close:function(e){t.show_phone=!1}}}),a("v-card-title",[a("v-icon",{staticClass:"mr-5"},[t._v("fas fa-phone")]),t._v(" Telefone de "+t._s(t.selected_contact_name)+" ")],1),a("v-card-text",[a("v-row",{staticClass:"ma-0 text-h3 black--text",attrs:{justify:"center"}},[t._v(" "+t._s(t.format_phone(t.selected_contact_phone))+" ")])],1)],1)],1)],1)},fe=[],ge={data:()=>({show_phone:!1,selected_contact_name:"",selected_contact_phone:""}),computed:{...Object(l["d"])("data",["contacts"])},components:{CloseButton:Nt},methods:{...Object(l["b"])("data",["get_contacts"]),format_phone:ht.format_phone},mounted(){this.get_contacts()}},be=ge,we=a("1800"),ye=Object(u["a"])(be,_e,fe,!1,null,null,null),xe=ye.exports;h()(ye,{VBtn:p["a"],VCard:V["a"],VCardText:yt["c"],VCardTitle:yt["d"],VDialog:Ht["a"],VDivider:at["a"],VIcon:v["a"],VList:st["a"],VListItem:k["a"],VListItemAction:we["a"],VListItemContent:E["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VRow:it["a"]});var je={name:"Home",data:()=>({reservoir:void 0,open_report_dialog:!1,view_window:0,open_contacts_dialog:!1}),computed:{...Object(l["d"])("data",["disconnected_reservoirs"])},components:{FilterColumn:lt,MainData:se,Report:ve,DetailedData:Zt,Contacts:xe},methods:{update_reservoir(t){this.reservoir=t,this.view_window=0}}},Ce=je,Ve=a("0798"),Se=a("0789"),ke=Object(u["a"])(Ce,Y,K,!1,null,null,null),Oe=ke.exports;h()(ke,{VAlert:Ve["a"],VCardTitle:yt["d"],VCol:Yt["a"],VContainer:ee["a"],VDialog:Ht["a"],VImg:S["a"],VRow:it["a"],VSlideYTransition:Se["e"],VSpacer:f["a"],VWindow:me["a"],VWindowItem:he["a"]});var Ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"primary",attrs:{"fill-height":"",fluid:""}},[s("v-card",{staticClass:"mx-auto pa-10 rounded-xl",attrs:{height:"500",width:"500"}},[s("v-row",{attrs:{justify:"center"}},[s("v-img",{attrs:{src:a("cf05"),contain:"","max-width":"200","max-height":"200"}})],1),s("v-form",{ref:"form",attrs:{"lazy-validation":""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signin(t.username,t.password)}}},[s("v-text-field",{attrs:{label:"E-mail",rules:[t.email_rule]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("v-text-field",{attrs:{label:"Senha",type:"password",rules:[t.non_empty_rule]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("v-row",{attrs:{justify:"end"}},[s("a",{on:{click:t.forgot_password}},[t._v("Esqueceu a senha?")])]),s("v-row",{staticClass:"mt-10",attrs:{justify:"center"}},[s("v-btn",{attrs:{color:"primary secondary--text px-15",rounded:""},on:{click:function(e){return t.signin(t.username,t.password)}}},[t._v(" Entrar ")])],1)],1)],1)],1)},De=[],qe={non_empty_rule(t){return""!=t||"Campo ObrigatÃ³rio"},email_rule(t){return""==t?"Campo ObrigatÃ³rio":!!/.+@.+\..+/.test(t)||"E-mail invÃ¡lido"}},Te={data:()=>({username:"",password:""}),computed:{...Object(l["d"])("auth",["signin_success"])},watch:{signin_success(){this.signin_success&&this.$router.push("/")}},methods:{non_empty_rule:qe.non_empty_rule,email_rule:qe.email_rule,signin(t,e){this.$refs.form.validate()&&this.$store.dispatch("auth/signin",{username:t,password:e})},forgot_password(){this.$router.push({name:"ForgotPassword"})}}},Fe=Te,Ie=a("4bd4"),Ae=Object(u["a"])(Fe,Ee,De,!1,null,null,null),Re=Ae.exports;h()(Ae,{VBtn:p["a"],VCard:V["a"],VContainer:ee["a"],VForm:Ie["a"],VImg:S["a"],VRow:it["a"],VTextField:ot["a"]});var ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"primary",attrs:{"fill-height":"",fluid:""}},[s("v-card",{staticClass:"mx-auto pa-10 rounded-xl",attrs:{height:"500",width:"500"}},[s("v-row",{attrs:{justify:"center"}},[s("v-img",{attrs:{src:a("cf05"),contain:"","max-width":"200","max-height":"200"}})],1),s("v-card-title",{staticClass:"headline"},[t._v("Digite seu email")]),s("v-card-text",[s("v-form",{ref:"form",attrs:{"lazy-validation":""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send_email(t.email)}}},[s("v-text-field",{attrs:{label:"E-mail",rules:[t.email_rule]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("v-row",{staticClass:"mt-10",attrs:{justify:"center"}},[s("v-btn",{attrs:{color:"primary secondary--text px-15",rounded:""},on:{click:function(e){return t.send_email(t.email)}}},[t._v(" Confirmar ")])],1)],1)],1)],1)],1)},Ne=[],Me={data:()=>({email:""}),methods:{email_rule:qe.email_rule,send_email(t){console.log(" ---- FORGOT PASSWORD ---- "),console.log(t)}}},Pe=Me,$e=Object(u["a"])(Pe,ze,Ne,!1,null,null,null),Le=$e.exports;h()($e,{VBtn:p["a"],VCard:V["a"],VCardText:yt["c"],VCardTitle:yt["d"],VContainer:ee["a"],VForm:Ie["a"],VImg:S["a"],VRow:it["a"],VTextField:ot["a"]});var Be=a("b054"),Ge=a.n(Be),He=a("2591");const Je="SIGNIN_BEGIN",Ue="SET_USER",Qe="SET_EMAIL",We="DATA_ERROR",Ye="DEVICE_DISCONNECTED",Ke="SIGNIN_SUCCESS",Ze="SIGNIN_FAILURE",Xe="LOADING_DATA",ta="CLEAR_RESERVOIRS",ea="PUSH_RESERVOIR",aa="DATA_LOADED",sa="GET_LAST_PARAMETERS",ra="CLEAR_CONTACTS",ia="PUSH_CONTACT",oa="PUSH_MEASUREMENTS",na="CLEAR_MEASUREMENTS",la="REPORT_DATA",da="CLEAR_REPORT_DATA",ca="G7TPUZEy86N77C6t33vp",ua="G7TPUZEy86N77C6t12g",ma={authenticating:!1,signin_success:!1,signin_error:!1,signin_error_message:"",user:null,email:""},ha={isAuthenticated:t=>!!t.user},pa={signin({commit:t},{username:e,password:a}){return t(Je),He["a"].auth().signInWithEmailAndPassword(e,a).then(()=>{t(Ke)}).catch(e=>{t(Ze,e.message)})},signout({commit:t}){return He["a"].auth().signOut().then(()=>{t(Ue,null),t(Qe,null)})},fetch_user({commit:t},e){t(Ue,e||null)},fetch_email({commit:t},e){t(Qe,e||null)},initialize({commit:t}){const e=localStorage.getItem(ca),a=localStorage.getItem(ua);e&&a?(t(Ue,e),t(Qe,a)):(t(Ue,null),t(Qe,null))}},va={[Je](t){t.authenticating=!0,t.signin_error=!1,t.signin_success=!1},[Ue](t,e){null==e?(t.user=null,localStorage.removeItem(ca)):(t.user=e,localStorage.setItem(ca,e))},[Qe](t,e){null==e?(t.email=null,localStorage.removeItem(ua)):(t.email=e,localStorage.setItem(ua,e))},[Ke](t){t.authenticating=!1,t.signin_error=!1,t.signin_success=!0},[Ze](t,e){t.authenticating=!1,t.signin_error=!0,t.signin_error_message=e}};var _a={namespaced:!0,state:ma,getters:ha,actions:pa,mutations:va},fa=a("62c3"),ga=a.n(fa);const ba=ga.a.create({baseURL:"https://afternoon-harbor-30432.herokuapp.com/"});var wa=ba,ya=a("aeb1"),xa=a.n(ya);const ja={loading_data:!1,reservoirs:[],last_parameters:{},contacts:[],value_measurements:[],report_data:[],data_error:!1,error_message:"",device_disconnected:!1,disconnected_reservoirs:[]},Ca={async get_reservoirs({commit:t,rootState:e}){return t(Xe),He["a"].firestore().collection("users/"+e.auth.user+"/reservoirs").get().then(e=>{t(ta),e.forEach(e=>{t(ea,e.data())}),t(aa)}).catch(()=>{t(aa),t(We,"Erro ao carregar reservatÃ³rios")})},check_connection({commit:t,rootState:e}){t(Xe),t(Ye,{status:!1,name:""}),He["a"].firestore().collection("users/"+e.auth.user+"/reservoirs").get().then(a=>{a.forEach(a=>{const s=a.data().id<10?"0"+a.data().id.toString():a.data().id.toString();He["a"].firestore().collection("users/"+e.auth.user+"/reservoirs/"+s+"/measurements").orderBy("time","desc").limit(1).get().then(e=>{e.docs.length>0&&(new Date-new Date(e.docs[0].data().time.toDate()))/36e5>6.5&&t(Ye,{status:!0,reservoir:a.data()})}).catch(()=>{t(aa),t(We,"Erro ao carregar Ãºltimos parÃ¢metros de mediÃ§Ã£o")})}),t(aa)}).catch(()=>{t(aa),t(We,"Erro ao carregar reservatÃ³rios")})},get_last_parameters({commit:t,rootState:e},a){t(Xe);let s=a<10?"0"+a.toString():a.toString();return He["a"].firestore().collection("users/"+e.auth.user+"/reservoirs/"+s+"/measurements").orderBy("time","desc").limit(1).get().then(e=>{void 0!=e.docs[0]?t(sa,e.docs[0].data()):t(sa,null),t(aa)}).catch(()=>{t(aa),t(We,"Erro ao carregar Ãºltimos parÃ¢metros de mediÃ§Ã£o")})},get_all_measurements({commit:t,rootState:e},{reservoir_id:a,type:s}){t(Xe);let r=a<10?"0"+a.toString():a.toString();return He["a"].firestore().collection("users/"+e.auth.user+"/reservoirs/"+r+"/measurements").get().then(e=>{t(na),e.docs.forEach(e=>{let a=e.data().time.toDate().toLocaleString(),r=null;"wqi"==s?r=e.data().wqi:"temp"==s?r=e.data().temp:"ph"==s?r=e.data().pH:"do"==s?r=e.data().OD:"ec"==s?r=e.data().EC:"tds"==s?r=e.data().TDS:"sal"==s?r=e.data().salinity:"turb"==s?r=e.data().turb:"vol"==s?r=e.data().volum:"cons"==s&&(r=e.data()["daily consum"]),t(oa,{time:a,value:r})}),t(aa)}).catch(()=>{t(aa),t(We,"Erro ao carregar dados de mediÃ§Ã£o")})},async get_report_measurements({commit:t,rootState:e},a){t(Xe);let s=await He["a"].firestore().collection("users/"+e.auth.user+"/reservoirs/").get();t(da),s.docs.forEach(s=>{He["a"].firestore().collection("users/"+e.auth.user+"/reservoirs/"+s.id+"/measurements").get().then(e=>{let r=[];e.docs.forEach(t=>{let e=t.data().time.toDate().toLocaleString().split(" ")[0],s=r.find(t=>t.date==e),i=!0,o=t.data().time.toDate();a=a.map((function(t){return new Date(t)}));let n=ht.min_date(a),l=ht.max_date(a);(o<n||o>l)&&(i=!1),i&&(void 0==s?r.push({date:e,ph:{min:t.data().pH.toFixed(2),sum:t.data().pH,max:t.data().pH.toFixed(2)},do:{min:t.data().OD.toFixed(2),sum:t.data().OD,max:t.data().OD.toFixed(2)},ec:{min:t.data().EC.toFixed(2),sum:t.data().EC,max:t.data().EC.toFixed(2)},sal:{min:t.data().salinity.toFixed(2),sum:t.data().salinity,max:t.data().salinity.toFixed(2)},tds:{min:t.data().TDS.toFixed(2),sum:t.data().TDS,max:t.data().TDS.toFixed(2)},turb:{min:t.data().turb.toFixed(2),sum:t.data().turb,max:t.data().turb.toFixed(2)},temp:{min:t.data().temp.toFixed(2),sum:t.data().temp,max:t.data().temp.toFixed(2)},vol:{min:void 0!=t.data().volum?t.data().volum.toFixed(2):0,sum:t.data().volum,max:void 0!=t.data().volum?t.data().volum.toFixed(2):0},wqi:{min:t.data().wqi.toFixed(2),sum:t.data().wqi,max:t.data().wqi.toFixed(2)},cons:{min:t.data()["daily consum"].toFixed(2),sum:t.data()["daily consum"],max:t.data()["daily consum"].toFixed(2)},qtd:1}):(s.ph.min=Math.min(s.ph.min,t.data().pH).toFixed(2),s.ph.sum+=t.data().pH,s.ph.max=Math.max(s.ph.max,t.data().pH).toFixed(2),s.do.min=Math.min(s.do.min,t.data().OD).toFixed(2),s.do.sum+=t.data().OD,s.do.max=Math.max(s.do.max,t.data().OD).toFixed(2),s.ec.min=Math.min(s.ec.min,t.data().EC).toFixed(2),s.ec.sum+=t.data().EC,s.ec.max=Math.max(s.ec.max,t.data().EC).toFixed(2),s.sal.min=Math.min(s.sal.min,t.data().salinity).toFixed(2),s.sal.sum+=t.data().salinity,s.sal.max=Math.max(s.sal.max,t.data().salinity).toFixed(2),s.tds.min=Math.min(s.tds.min,t.data().TDS).toFixed(2),s.tds.sum+=t.data().TDS,s.tds.max=Math.max(s.tds.max,t.data().TDS).toFixed(2),s.turb.min=Math.min(s.turb.min,t.data().turb).toFixed(2),s.turb.sum+=t.data().turb,s.turb.max=Math.max(s.turb.max,t.data().turb).toFixed(2),s.temp.min=Math.min(s.temp.min,t.data().temp).toFixed(2),s.temp.sum+=t.data().temp,s.temp.max=Math.max(s.temp.max,t.data().temp).toFixed(2),s.vol.min=Math.min(s.vol.min,t.data().volum).toFixed(2),s.vol.sum+=t.data().volum,s.vol.max=Math.max(s.vol.max,t.data().volum).toFixed(2),s.wqi.min=Math.min(s.wqi.min,t.data().wqi).toFixed(2),s.wqi.sum+=t.data().wqi,s.wqi.max=Math.max(s.wqi.max,t.data().wqi).toFixed(2),s.cons.min=Math.min(s.cons.min,t.data()["daily consum"]).toFixed(2),s.cons.sum+=t.data()["daily consum"],s.cons.max=Math.max(s.do.max,t.data()["daily consum"]).toFixed(2),s.qtd++))}),r.forEach(t=>{t.ph["med"]=(t.ph.sum/t.qtd).toFixed(2),delete t.ph.sum,t.do["med"]=(t.do.sum/t.qtd).toFixed(2),delete t.do.sum,t.ec["med"]=(t.ec.sum/t.qtd).toFixed(2),delete t.ec.sum,t.sal["med"]=(t.sal.sum/t.qtd).toFixed(2),delete t.sal.sum,t.tds["med"]=(t.tds.sum/t.qtd).toFixed(2),delete t.tds.sum,t.turb["med"]=(t.turb.sum/t.qtd).toFixed(2),delete t.turb.sum,t.temp["med"]=(t.temp.sum/t.qtd).toFixed(2),delete t.temp.sum,t.vol["med"]=(t.vol.sum/t.qtd).toFixed(2),delete t.vol.sum,t.wqi["med"]=(t.wqi.sum/t.qtd).toFixed(2),delete t.wqi.sum,t.cons["med"]=(t.cons.sum/t.qtd).toFixed(2),delete t.cons.sum,delete t.qtd}),t(la,{report_data:r,reservoir:s.id}),t(aa)}).catch(()=>{t(aa),t(We,"Erro ao carregar dados de relatÃ³rio")})})},get_report({commit:t,rootState:e},{reservoir_id:a,time1:s,time2:r}){t(Xe);let i=e.auth.email;return wa.get("webReport/?email="+i+"&reservoirId="+a+"&time1="+s+"%2000:00:00.0&time2="+r+"%2000:00:00.0").then(e=>{const a=e.headers["content-type"];xa()(e.data,"relatÃ³rio.pdf",a),t(aa)}).catch((function(){t(aa),t(We,"Erro ao baixar o relatÃ³rio")}))},get_contacts({commit:t}){return t(Xe),He["a"].firestore().collection("contacts").get().then(e=>{t(ra),e.forEach(e=>{t(ia,e.data())}),t(aa)}).catch((function(){t(aa),t(We,"Erro ao carregar contatos")}))}},Va={[Xe](t){t.loading_data=!0,t.data_error=!1},[ta](t){t.reservoirs=[]},[ea](t,e){t.reservoirs.push(e)},[aa](t){t.loading_data=!1},[We](t,e){t.error_message=e,t.data_error=!0},[Ye](t,{status:e,reservoir:a}){t.device_disconnected=e,0==e?t.disconnected_reservoirs=[]:t.disconnected_reservoirs.push(a)},[sa](t,e){t.last_parameters=e},[ra](t){t.contacts=[]},[ia](t,e){t.contacts.push(e)},[na](t){t.value_measurements=[]},[oa](t,e){t.value_measurements.push(JSON.parse(JSON.stringify(e)))},[da](t){t.report_data=[]},[la](t,{report_data:e,reservoir:a}){t.report_data.push({reservoir:a,data:e})}};var Sa={namespaced:!0,state:ja,actions:Ca,mutations:Va};const ka=!1;s["a"].use(l["a"]);var Oa=new l["a"].Store({modules:{auth:_a,data:Sa},strict:ka,plugins:ka?[Ge()()]:[]});const Ea=(t,e,a)=>{Oa.dispatch("auth/initialize").then(()=>{Oa.getters["auth/isAuthenticated"]?a():a("/signin")})},Da=(t,e,a)=>{Oa.dispatch("auth/initialize").then(()=>{Oa.getters["auth/isAuthenticated"]?Oa.dispatch("auth/signout").then(()=>{a(t.fullPath)}):a()})},qa=(t,e,a)=>{Oa.dispatch("auth/signout").then(()=>{a("/signin")})};s["a"].use(W["a"]);const Ta=[{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:Oe,beforeEnter:Ea},{path:"/signin",name:"Signin",component:Re,beforeEnter:Da},{path:"/forgotpassword",name:"ForgotPassword",component:Le,beforeEnter:Da},{path:"/signout",beforeEnter:qa}],Fa=new W["a"]({routes:Ta});var Ia=Fa,Aa=(a("15f5"),a("f309"));s["a"].use(Aa["a"]);var Ra=new Aa["a"]({icons:{iconfont:"fa"},theme:{themes:{light:{primary:"#390360",secondary:"#FFFFFF"}}}}),za=a("cc84");const Na={apiKey:"AIzaSyBNqPYg3KVMBn2DHi6gcAk2Xmr5StNKmbM",authDomain:"nomu-database.firebaseapp.com",databaseURL:"https://nomu-database.firebaseio.com",projectId:"nomu-database",storageBucket:"nomu-database.appspot.com",messagingSenderId:"567438391704",appId:"1:567438391704:web:c22a96538b81fe60db13ed",measurementId:"G-DJJ2WGY1JW"};var Ma=Na;za["b"].initializeApp(Ma),za["b"].auth().onAuthStateChanged(t=>{t&&(Oa.dispatch("auth/fetch_user",t.uid),Oa.dispatch("auth/fetch_email",t.email))}),s["a"].config.productionTip=!1,new s["a"]({router:Ia,store:Oa,vuetify:Ra,render:function(t){return t(Q)}}).$mount("#app")},83369:function(t,e,a){t.exports=a.p+"img/emoji_2.26eaaf0f.png"},bd6a:function(t,e,a){t.exports=a.p+"img/emoji_4.157dbe81.png"},be15:function(t,e,a){t.exports=a.p+"img/emoji_3.8ff016a2.png"},cf05:function(t,e,a){t.exports=a.p+"img/logo.46837591.png"},cf3b:function(t,e,a){t.exports=a.p+"img/emoji_1.0cc72ca4.png"}});
//# sourceMappingURL=app.48b98bb4.js.map